<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–° –î–Ω–µ–º –†–æ–∂–¥–µ–Ω–∏—è! :)</title>
<style>
body {
  margin: 0;
  background-color: black;
  color: white;
  font-family: "Segoe UI", sans-serif;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100vh;
  overflow: hidden;
}
button {
  background-color: #ff0055;
  border: none;
  border-radius: 12px;
  padding: 14px 30px;
  color: white;
  font-size: 20px;
  cursor: pointer;
  transition: 0.3s;
}
button:hover {
  background-color: #ff3377;
}
#lyrics {
  position: absolute;
  bottom: 60px;
  font-size: 26px;
  text-align: center;
  opacity: 0;
  transition: opacity 0.8s ease-in-out;
  width: 90%;
}
.show {
  opacity: 1;
}
</style>
</head>
<body>

<button id="startBtn">–ù–∞–∂–º–∏ –π–æ—É</button>

<!-- mp3-—Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –ª–µ–∂–∞—Ç—å —Ä—è–¥–æ–º —Å index.html -->
<audio id="music" src="2_5309797944113785629.m4a"></audio>

<div id="lyrics"></div>

<script>
// üéµ –ù–∞—Å—Ç—Ä–æ–π–∫–∏
const music = document.getElementById("music");
const startBtn = document.getElementById("startBtn");
const lyricsDiv = document.getElementById("lyrics");

// –ú–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫ —Å —Ç–∞–π–º–∏–Ω–≥–æ–º (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)
const lyrics = [
  { time: 5, text: "I was meant to love you" },
  { time: 10, text: "And always keep you in my life..." },
  { time: 16, text: "I was meant to love you" },
  { time: 21, text: "I knew I loved you at first sight..." }
];

let currentLine = -1;

// –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ –∫–Ω–æ–ø–∫—É
startBtn.addEventListener("click", () => {
  startBtn.style.display = "none";
  music.currentTime = 125; // –Ω–∞—á–∞—Ç—å —Å 2:05
  music.play().catch(() => {
    alert("–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –µ—â—ë —Ä–∞–∑, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫ üéß");
  });
  requestAnimationFrame(updateLyrics);
});

// –§—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
function updateLyrics() {
  const currentTime = music.currentTime;
  for (let i = 0; i < lyrics.length; i++) {
    if (currentTime >= lyrics[i].time && currentLine !== i) {
      currentLine = i;
      lyricsDiv.textContent = lyrics[i].text;
      lyricsDiv.classList.remove("show");
      void lyricsDiv.offsetWidth; // —Å–±—Ä–æ—Å –∞–Ω–∏–º–∞—Ü–∏–∏
      lyricsDiv.classList.add("show");
      break;
    }
  }
  requestAnimationFrame(updateLyrics);
}
</script>

</body>
</html>
